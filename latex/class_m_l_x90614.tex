\hypertarget{class_m_l_x90614}{}\subsection{M\+L\+X90614 Class Reference}
\label{class_m_l_x90614}\index{M\+L\+X90614@{M\+L\+X90614}}
\subsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{class_m_l_x90614_a18769519e647d93c959566b81d2e514f}{temp\+Unit\+\_\+t}} \{ \mbox{\hyperlink{class_m_l_x90614_a18769519e647d93c959566b81d2e514fa074167c1192349236b451ecd3d7e5582}{M\+L\+X90614\+\_\+\+TK}}, 
\mbox{\hyperlink{class_m_l_x90614_a18769519e647d93c959566b81d2e514fa75d66a29cab65ff4514b5cd6a268c7bf}{M\+L\+X90614\+\_\+\+TC}}, 
\mbox{\hyperlink{class_m_l_x90614_a18769519e647d93c959566b81d2e514fa34f399de3c986d3eede0268f6a34a96b}{M\+L\+X90614\+\_\+\+TF}}
 \}
\item 
enum \mbox{\hyperlink{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8b}{temp\+Src\+\_\+t}} \{ \mbox{\hyperlink{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8ba8e4a1c077fba74d29d5c7065ed9cc382}{M\+L\+X90614\+\_\+\+S\+R\+CA}}, 
\mbox{\hyperlink{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8ba91f620721ea47dec379db791d735a55b}{M\+L\+X90614\+\_\+\+S\+R\+C01}}, 
\mbox{\hyperlink{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8baa8763ed94d24c7d2a45fcec6d7183643}{M\+L\+X90614\+\_\+\+S\+R\+C02}}
 \}
\end{DoxyCompactItemize}
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_m_l_x90614_abd5039fd7e21e82db9f0cf2575f0d23a}{M\+L\+X90614}} (uint8\+\_\+t i2caddr=M\+L\+X90614\+\_\+\+I2\+C\+D\+E\+F\+A\+U\+L\+T\+A\+D\+DR)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_m_l_x90614}{M\+L\+X90614}} Device class constructor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_m_l_x90614_ade3c27bfa8ff06c043e2c83743e38b5c}\label{class_m_l_x90614_ade3c27bfa8ff06c043e2c83743e38b5c}} 
boolean \mbox{\hyperlink{class_m_l_x90614_ade3c27bfa8ff06c043e2c83743e38b5c}{begin}} ()
\begin{DoxyCompactList}\small\item\em Initialize the device and the i2c interface. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_m_l_x90614_a3fa540d984b00a7c062be1b3e84bd881}\label{class_m_l_x90614_a3fa540d984b00a7c062be1b3e84bd881}} 
boolean {\bfseries is\+Ready} (void)
\item 
uint64\+\_\+t \mbox{\hyperlink{class_m_l_x90614_a352cc543f3e417d6318b6152d872db2e}{read\+ID}} (void)
\begin{DoxyCompactList}\small\item\em Retrieve the chip ID bytes. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_l_x90614_ac04578d67760dd73df4ed023d9b97896}{get\+I\+I\+Rcoeff}} (void)
\begin{DoxyCompactList}\small\item\em Get the coefficients of the I\+IR digital filter. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_l_x90614_a8b50c1957a50c7dda5767fe881a7fa95}{get\+F\+I\+Rcoeff}} (void)
\begin{DoxyCompactList}\small\item\em Get the coefficients of the F\+IR digital filter. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{class_m_l_x90614_a44234371f1e9dd36781898d0c87fdbbf}{get\+Emissivity}} (void)
\begin{DoxyCompactList}\small\item\em Get the emissivity of the object. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_m_l_x90614_af62b9d897164375e8c17fb5a8d367600}{set\+I\+I\+Rcoeff}} (uint8\+\_\+t csb=4)
\begin{DoxyCompactList}\small\item\em Set the coefficients of the I\+IR digital filter. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_m_l_x90614_a3849320b7988ca5882f25fbc87dd0de7}{set\+F\+I\+Rcoeff}} (uint8\+\_\+t csb=7)
\begin{DoxyCompactList}\small\item\em Set the coefficients of the F\+IR digital filter. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_m_l_x90614_ab7e462d10f8d26bdd55f77eb4c81a5ff}{set\+Emissivity}} (float emiss=1.\+0)
\begin{DoxyCompactList}\small\item\em Set the emissivity of the object. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{class_m_l_x90614_aab0a010875527f4ac3d2794017624b10}{read\+E\+E\+Prom}} (uint8\+\_\+t)
\begin{DoxyCompactList}\small\item\em Return a 16 bit value read from E\+E\+P\+R\+OM. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_m_l_x90614_a70b3e428c623b6af5bedf199f5c16490}{write\+E\+E\+Prom}} (uint8\+\_\+t, uint16\+\_\+t)
\begin{DoxyCompactList}\small\item\em Write a 16 bit value to E\+E\+P\+R\+OM after first clearing the memory. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_m_l_x90614_ab2a8bafff744a249325105d238bfe248}{read\+Temp}} (\mbox{\hyperlink{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8b}{temp\+Src\+\_\+t}}=\mbox{\hyperlink{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8ba91f620721ea47dec379db791d735a55b}{M\+L\+X90614\+\_\+\+S\+R\+C01}}, \mbox{\hyperlink{class_m_l_x90614_a18769519e647d93c959566b81d2e514f}{temp\+Unit\+\_\+t}}=\mbox{\hyperlink{class_m_l_x90614_a18769519e647d93c959566b81d2e514fa75d66a29cab65ff4514b5cd6a268c7bf}{M\+L\+X90614\+\_\+\+TC}})
\begin{DoxyCompactList}\small\item\em Return a temperature from the specified source in specified units. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_m_l_x90614_af0a52019a3c66f0ae3b954a4e7475c88}{conv\+KtoC}} (double)
\begin{DoxyCompactList}\small\item\em Convert temperature in degrees K to degrees C. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_m_l_x90614_a2a5b34da155086b85fb74ceb7310b2cb}{conv\+CtoF}} (double)
\begin{DoxyCompactList}\small\item\em Convert temperature in degrees C to degrees F. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
Property$<$ uint8\+\_\+t, \mbox{\hyperlink{class_m_l_x90614}{M\+L\+X90614}} $>$ \mbox{\hyperlink{class_m_l_x90614_a66d99dc5778b514038c0fa5e25a722f1}{bus\+Addr}}
\item 
Property$<$ uint8\+\_\+t, \mbox{\hyperlink{class_m_l_x90614}{M\+L\+X90614}} $>$ \mbox{\hyperlink{class_m_l_x90614_a13d10b57b4369c27e740585bf3907b0e}{rw\+Error}}
\item 
Property$<$ uint8\+\_\+t, \mbox{\hyperlink{class_m_l_x90614}{M\+L\+X90614}} $>$ \mbox{\hyperlink{class_m_l_x90614_aa13abb960da5f7d8d0eb26df8632a679}{crc8}}
\item 
Property$<$ uint8\+\_\+t, \mbox{\hyperlink{class_m_l_x90614}{M\+L\+X90614}} $>$ \mbox{\hyperlink{class_m_l_x90614_af050e02eecd12a127a98fb2b30e40a88}{pec}}
\end{DoxyCompactItemize}
\subsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
uint16\+\_\+t \mbox{\hyperlink{class_m_l_x90614_ad7fb030682918c5c9ae6292962527b44}{read16}} (uint8\+\_\+t)
\begin{DoxyCompactList}\small\item\em Return a 16 bit value read from R\+AM or E\+E\+P\+R\+OM. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_m_l_x90614_a18cf4b5a62e225e8530a1e0f641ea027}{write16}} (uint8\+\_\+t, uint16\+\_\+t)
\begin{DoxyCompactList}\small\item\em Write a 16 bit value to memory. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_l_x90614_a785e254cb6af386a7f23ebd427b50c81}{get\+Rw\+Error}} (void)
\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_l_x90614_a6635121e11e44f85945d18bb81d85b4f}{get\+C\+R\+C8}} (void)
\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_l_x90614_a7bd321c53f70f4f3a96f7c6c7d4cb80e}{get\+P\+EC}} (void)
\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_l_x90614_a7ba22b140f92bea70381cf3c495d4c72}{get\+Addr}} (void)
\begin{DoxyCompactList}\small\item\em Return the device S\+M\+Bus address. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_m_l_x90614_a3d8646faede1c0adc667c54a0c95a7db}{set\+Addr}} (uint8\+\_\+t)
\begin{DoxyCompactList}\small\item\em Set device S\+M\+Bus address. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_m_l_x90614_abcc1f76b9f1c99ae25e365736616679a}\label{class_m_l_x90614_abcc1f76b9f1c99ae25e365736616679a}} 
boolean {\bfseries \+\_\+ready}
\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\+\_\+addr}}
\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\+\_\+rw\+Error}}
\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_l_x90614_add210d34992507e8ccb753a040b14395}{\+\_\+crc8}}
\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_l_x90614_a2526978eb988a8712baee6dca596be15}{\+\_\+pec}}
\end{DoxyCompactItemize}


\subsubsection{Detailed Description}


Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00104}{104}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.



\subsubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8b}\label{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8b}} 
\index{M\+L\+X90614@{M\+L\+X90614}!temp\+Src\+\_\+t@{temp\+Src\+\_\+t}}
\index{temp\+Src\+\_\+t@{temp\+Src\+\_\+t}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{temp\+Src\+\_\+t}{tempSrc\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8b}{M\+L\+X90614\+::temp\+Src\+\_\+t}}}

Enumerations for temperature measurement source. \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{M\+L\+X90614\+\_\+\+S\+R\+CA@{M\+L\+X90614\+\_\+\+S\+R\+CA}!M\+L\+X90614@{M\+L\+X90614}}\index{M\+L\+X90614@{M\+L\+X90614}!M\+L\+X90614\+\_\+\+S\+R\+CA@{M\+L\+X90614\+\_\+\+S\+R\+CA}}}\mbox{\Hypertarget{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8ba8e4a1c077fba74d29d5c7065ed9cc382}\label{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8ba8e4a1c077fba74d29d5c7065ed9cc382}} 
M\+L\+X90614\+\_\+\+S\+R\+CA&Chip (ambient) sensor \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{M\+L\+X90614\+\_\+\+S\+R\+C01@{M\+L\+X90614\+\_\+\+S\+R\+C01}!M\+L\+X90614@{M\+L\+X90614}}\index{M\+L\+X90614@{M\+L\+X90614}!M\+L\+X90614\+\_\+\+S\+R\+C01@{M\+L\+X90614\+\_\+\+S\+R\+C01}}}\mbox{\Hypertarget{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8ba91f620721ea47dec379db791d735a55b}\label{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8ba91f620721ea47dec379db791d735a55b}} 
M\+L\+X90614\+\_\+\+S\+R\+C01&IR source \#1 \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{M\+L\+X90614\+\_\+\+S\+R\+C02@{M\+L\+X90614\+\_\+\+S\+R\+C02}!M\+L\+X90614@{M\+L\+X90614}}\index{M\+L\+X90614@{M\+L\+X90614}!M\+L\+X90614\+\_\+\+S\+R\+C02@{M\+L\+X90614\+\_\+\+S\+R\+C02}}}\mbox{\Hypertarget{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8baa8763ed94d24c7d2a45fcec6d7183643}\label{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8baa8763ed94d24c7d2a45fcec6d7183643}} 
M\+L\+X90614\+\_\+\+S\+R\+C02&IR source \#2 \\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00134}{134}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.


\begin{DoxyCode}
00140        :
00141     \textcolor{keywordtype}{boolean}  \_ready;
\end{DoxyCode}
\mbox{\Hypertarget{class_m_l_x90614_a18769519e647d93c959566b81d2e514f}\label{class_m_l_x90614_a18769519e647d93c959566b81d2e514f}} 
\index{M\+L\+X90614@{M\+L\+X90614}!temp\+Unit\+\_\+t@{temp\+Unit\+\_\+t}}
\index{temp\+Unit\+\_\+t@{temp\+Unit\+\_\+t}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{temp\+Unit\+\_\+t}{tempUnit\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{class_m_l_x90614_a18769519e647d93c959566b81d2e514f}{M\+L\+X90614\+::temp\+Unit\+\_\+t}}}

Enumerations for temperature units. \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{M\+L\+X90614\+\_\+\+TK@{M\+L\+X90614\+\_\+\+TK}!M\+L\+X90614@{M\+L\+X90614}}\index{M\+L\+X90614@{M\+L\+X90614}!M\+L\+X90614\+\_\+\+TK@{M\+L\+X90614\+\_\+\+TK}}}\mbox{\Hypertarget{class_m_l_x90614_a18769519e647d93c959566b81d2e514fa074167c1192349236b451ecd3d7e5582}\label{class_m_l_x90614_a18769519e647d93c959566b81d2e514fa074167c1192349236b451ecd3d7e5582}} 
M\+L\+X90614\+\_\+\+TK&degrees Kelvin \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{M\+L\+X90614\+\_\+\+TC@{M\+L\+X90614\+\_\+\+TC}!M\+L\+X90614@{M\+L\+X90614}}\index{M\+L\+X90614@{M\+L\+X90614}!M\+L\+X90614\+\_\+\+TC@{M\+L\+X90614\+\_\+\+TC}}}\mbox{\Hypertarget{class_m_l_x90614_a18769519e647d93c959566b81d2e514fa75d66a29cab65ff4514b5cd6a268c7bf}\label{class_m_l_x90614_a18769519e647d93c959566b81d2e514fa75d66a29cab65ff4514b5cd6a268c7bf}} 
M\+L\+X90614\+\_\+\+TC&degrees Centigrade \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{M\+L\+X90614\+\_\+\+TF@{M\+L\+X90614\+\_\+\+TF}!M\+L\+X90614@{M\+L\+X90614}}\index{M\+L\+X90614@{M\+L\+X90614}!M\+L\+X90614\+\_\+\+TF@{M\+L\+X90614\+\_\+\+TF}}}\mbox{\Hypertarget{class_m_l_x90614_a18769519e647d93c959566b81d2e514fa34f399de3c986d3eede0268f6a34a96b}\label{class_m_l_x90614_a18769519e647d93c959566b81d2e514fa34f399de3c986d3eede0268f6a34a96b}} 
M\+L\+X90614\+\_\+\+TF&degrees Fahrenheit \\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00129}{129}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.


\begin{DoxyCode}
00131                     \{\mbox{\hyperlink{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8ba8e4a1c077fba74d29d5c7065ed9cc382}{MLX90614\_SRCA}},                         \textcolor{comment}{/**< Chip (ambient) sensor */}
00132                      \mbox{\hyperlink{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8ba91f620721ea47dec379db791d735a55b}{MLX90614\_SRC01}},                        \textcolor{comment}{/**< IR source #1 */}
\end{DoxyCode}


\subsubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_m_l_x90614_abd5039fd7e21e82db9f0cf2575f0d23a}\label{class_m_l_x90614_abd5039fd7e21e82db9f0cf2575f0d23a}} 
\index{M\+L\+X90614@{M\+L\+X90614}!M\+L\+X90614@{M\+L\+X90614}}
\index{M\+L\+X90614@{M\+L\+X90614}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{M\+L\+X90614()}{MLX90614()}}
{\footnotesize\ttfamily M\+L\+X90614\+::\+M\+L\+X90614 (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{i2caddr = {\ttfamily MLX90614\+\_\+I2CDEFAULTADDR} }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_m_l_x90614}{M\+L\+X90614}} Device class constructor. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em i2caddr} & Device address (default\+: published value). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00046}{46}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8h_source_l00145}{\+\_\+addr}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00123}{bus\+Addr}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00125}{crc8}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00250}{get\+Addr()}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00154}{get\+C\+R\+C8()}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00155}{get\+P\+E\+C()}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00153}{get\+Rw\+Error()}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00126}{pec}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00124}{rw\+Error}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00226}{set\+Addr()}}.


\begin{DoxyCode}
00046                                   \{
00047 
00048     \mbox{\hyperlink{class_m_l_x90614_a66d99dc5778b514038c0fa5e25a722f1}{busAddr}}.Set\_Class(\textcolor{keyword}{this});
00049     \mbox{\hyperlink{class_m_l_x90614_a66d99dc5778b514038c0fa5e25a722f1}{busAddr}}.Set\_Get(&\mbox{\hyperlink{class_m_l_x90614_a7ba22b140f92bea70381cf3c495d4c72}{MLX90614::getAddr}});
00050     \mbox{\hyperlink{class_m_l_x90614_a66d99dc5778b514038c0fa5e25a722f1}{busAddr}}.Set\_Set(&\mbox{\hyperlink{class_m_l_x90614_a3d8646faede1c0adc667c54a0c95a7db}{MLX90614::setAddr}});
00051 
00052     \mbox{\hyperlink{class_m_l_x90614_a13d10b57b4369c27e740585bf3907b0e}{rwError}}.Set\_Class(\textcolor{keyword}{this});
00053     \mbox{\hyperlink{class_m_l_x90614_a13d10b57b4369c27e740585bf3907b0e}{rwError}}.Set\_Get(&\mbox{\hyperlink{class_m_l_x90614_a785e254cb6af386a7f23ebd427b50c81}{MLX90614::getRwError}});
00054 
00055     \mbox{\hyperlink{class_m_l_x90614_af050e02eecd12a127a98fb2b30e40a88}{pec}}.Set\_Class(\textcolor{keyword}{this});
00056     \mbox{\hyperlink{class_m_l_x90614_af050e02eecd12a127a98fb2b30e40a88}{pec}}.Set\_Get(&\mbox{\hyperlink{class_m_l_x90614_a7bd321c53f70f4f3a96f7c6c7d4cb80e}{MLX90614::getPEC}});
00057 
00058     \mbox{\hyperlink{class_m_l_x90614_aa13abb960da5f7d8d0eb26df8632a679}{crc8}}.Set\_Class(\textcolor{keyword}{this});
00059     \mbox{\hyperlink{class_m_l_x90614_aa13abb960da5f7d8d0eb26df8632a679}{crc8}}.Set\_Get(&\mbox{\hyperlink{class_m_l_x90614_a6635121e11e44f85945d18bb81d85b4f}{MLX90614::getCRC8}});
00060 
00061     \mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}} = i2caddr;
00062     \_ready = \textcolor{keyword}{false};
00063 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_abd5039fd7e21e82db9f0cf2575f0d23a_cgraph}
\end{center}
\end{figure}


\subsubsection{Member Function Documentation}
\mbox{\Hypertarget{class_m_l_x90614_a2a5b34da155086b85fb74ceb7310b2cb}\label{class_m_l_x90614_a2a5b34da155086b85fb74ceb7310b2cb}} 
\index{M\+L\+X90614@{M\+L\+X90614}!conv\+CtoF@{conv\+CtoF}}
\index{conv\+CtoF@{conv\+CtoF}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{conv\+Cto\+F()}{convCtoF()}}
{\footnotesize\ttfamily double M\+L\+X90614\+::conv\+CtoF (\begin{DoxyParamCaption}\item[{double}]{degC }\end{DoxyParamCaption})}



Convert temperature in degrees C to degrees F. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em degC} & Temperature in degrees Centigrade. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Temperature in degrees Fahrenheit. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00389}{389}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00084}{read\+Temp()}}.


\begin{DoxyCode}
00389 \{\textcolor{keywordflow}{return} (degC * 1.8) + 32.0;\}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{class_m_l_x90614_a2a5b34da155086b85fb74ceb7310b2cb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_af0a52019a3c66f0ae3b954a4e7475c88}\label{class_m_l_x90614_af0a52019a3c66f0ae3b954a4e7475c88}} 
\index{M\+L\+X90614@{M\+L\+X90614}!conv\+KtoC@{conv\+KtoC}}
\index{conv\+KtoC@{conv\+KtoC}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{conv\+Kto\+C()}{convKtoC()}}
{\footnotesize\ttfamily double M\+L\+X90614\+::conv\+KtoC (\begin{DoxyParamCaption}\item[{double}]{degK }\end{DoxyParamCaption})}



Convert temperature in degrees K to degrees C. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em degK} & Temperature in degrees Kelvin. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Temperature in degrees Centigrade. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00382}{382}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00084}{read\+Temp()}}.


\begin{DoxyCode}
00382 \{\textcolor{keywordflow}{return} degK - 273.15;\}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=335pt]{class_m_l_x90614_af0a52019a3c66f0ae3b954a4e7475c88_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_a7ba22b140f92bea70381cf3c495d4c72}\label{class_m_l_x90614_a7ba22b140f92bea70381cf3c495d4c72}} 
\index{M\+L\+X90614@{M\+L\+X90614}!get\+Addr@{get\+Addr}}
\index{get\+Addr@{get\+Addr}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{get\+Addr()}{getAddr()}}
{\footnotesize\ttfamily uint8\+\_\+t M\+L\+X90614\+::get\+Addr (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Return the device S\+M\+Bus address. 

S\+MB bus address getter

\begin{DoxyRemark}{Remarks}
\begin{DoxyItemize}
\item Must be only device on the bus. \item Sets the library to use the new found address. \end{DoxyItemize}

\end{DoxyRemark}
\begin{DoxyReturn}{Returns}
Device address. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00250}{250}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8h_source_l00145}{\+\_\+addr}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00146}{\+\_\+rw\+Error}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00344}{read\+E\+E\+Prom()}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00046}{M\+L\+X90614()}}.


\begin{DoxyCode}
00250                               \{
00251     uint8\_t tempAddr = \mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}};
00252 
00253     \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} = 0;
00254 
00255     \textcolor{comment}{// It is assumed we do not know the existing slave address so the broadcast address is used.}
00256     \textcolor{comment}{// This will throw a r/w error so errors will be ignored.}
00257     \mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}} = MLX90614\_BROADCASTADDR;
00258 
00259     \textcolor{comment}{// Reload program copy with the existing slave address.}
00260     \mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}} = lowByte(\mbox{\hyperlink{class_m_l_x90614_aab0a010875527f4ac3d2794017624b10}{readEEProm}}(MLX90614\_ADDR));
00261 
00262     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}};
00263 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_a7ba22b140f92bea70381cf3c495d4c72_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{class_m_l_x90614_a7ba22b140f92bea70381cf3c495d4c72_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_a6635121e11e44f85945d18bb81d85b4f}\label{class_m_l_x90614_a6635121e11e44f85945d18bb81d85b4f}} 
\index{M\+L\+X90614@{M\+L\+X90614}!get\+C\+R\+C8@{get\+C\+R\+C8}}
\index{get\+C\+R\+C8@{get\+C\+R\+C8}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{get\+C\+R\+C8()}{getCRC8()}}
{\footnotesize\ttfamily uint8\+\_\+t M\+L\+X90614\+::get\+C\+R\+C8 (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

8 bit C\+RC getter 

Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00154}{154}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00046}{M\+L\+X90614()}}.

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{class_m_l_x90614_a6635121e11e44f85945d18bb81d85b4f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_a44234371f1e9dd36781898d0c87fdbbf}\label{class_m_l_x90614_a44234371f1e9dd36781898d0c87fdbbf}} 
\index{M\+L\+X90614@{M\+L\+X90614}!get\+Emissivity@{get\+Emissivity}}
\index{get\+Emissivity@{get\+Emissivity}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{get\+Emissivity()}{getEmissivity()}}
{\footnotesize\ttfamily float M\+L\+X90614\+::get\+Emissivity (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get the emissivity of the object. 

Emissivity getter

\begin{DoxyRemark}{Remarks}
The emissivity is stored as a 16 bit integer defined by the following\+: ~\newline
{\ttfamily  emissivity = dec2hex\mbox{[}round(65535 x emiss)\mbox{]}} 
\end{DoxyRemark}
\begin{DoxyReturn}{Returns}
Physical emissivity value in range 0.\+1 ...1.\+0 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00120}{120}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8h_source_l00146}{\+\_\+rw\+Error}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00344}{read\+E\+E\+Prom()}}.


\begin{DoxyCode}
00120                                   \{
00121 
00122     \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} = 0;
00123     uint16\_t emiss = \mbox{\hyperlink{class_m_l_x90614_aab0a010875527f4ac3d2794017624b10}{readEEProm}}(MLX90614\_EMISS);
00124     \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}}) \textcolor{keywordflow}{return} (\textcolor{keywordtype}{float})1.0;
00125     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{float})emiss / 65535.0;
00126 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_a44234371f1e9dd36781898d0c87fdbbf_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_a8b50c1957a50c7dda5767fe881a7fa95}\label{class_m_l_x90614_a8b50c1957a50c7dda5767fe881a7fa95}} 
\index{M\+L\+X90614@{M\+L\+X90614}!get\+F\+I\+Rcoeff@{get\+F\+I\+Rcoeff}}
\index{get\+F\+I\+Rcoeff@{get\+F\+I\+Rcoeff}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{get\+F\+I\+Rcoeff()}{getFIRcoeff()}}
{\footnotesize\ttfamily uint8\+\_\+t M\+L\+X90614\+::get\+F\+I\+Rcoeff (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get the coefficients of the F\+IR digital filter. 

I\+IR coefficient getter

\begin{DoxyRemark}{Remarks}
The F\+IR digital filter coefficient N is bits 10\+:8 of Config\+Register1 ~\newline
 The value of N is set as follows\+: {\ttfamily N = 2 $^\wedge$ (csb + 3)} ~\newline
 The manufacturer does not recommend {\ttfamily N $<$ 128} 
\end{DoxyRemark}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00208}{208}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8h_source_l00146}{\+\_\+rw\+Error}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00344}{read\+E\+E\+Prom()}}.


\begin{DoxyCode}
00208                                   \{
00209 
00210     \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} = 0;
00211 
00212     \textcolor{comment}{// Get the current value of ConfigRegister1 bits 10:8}
00213     uint8\_t fir = (\mbox{\hyperlink{class_m_l_x90614_aab0a010875527f4ac3d2794017624b10}{readEEProm}}(MLX90614\_CONFIG) >> 8) & 7;
00214 
00215     \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}}) \textcolor{keywordflow}{return} 7;
00216     \textcolor{keywordflow}{return} fir;
00217 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_a8b50c1957a50c7dda5767fe881a7fa95_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_ac04578d67760dd73df4ed023d9b97896}\label{class_m_l_x90614_ac04578d67760dd73df4ed023d9b97896}} 
\index{M\+L\+X90614@{M\+L\+X90614}!get\+I\+I\+Rcoeff@{get\+I\+I\+Rcoeff}}
\index{get\+I\+I\+Rcoeff@{get\+I\+I\+Rcoeff}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{get\+I\+I\+Rcoeff()}{getIIRcoeff()}}
{\footnotesize\ttfamily uint8\+\_\+t M\+L\+X90614\+::get\+I\+I\+Rcoeff (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get the coefficients of the I\+IR digital filter. 

I\+IR coefficient getter

\begin{DoxyRemark}{Remarks}
The I\+IR digital filter coefficients are set by the LS 3 bits of Config\+Register1 
\end{DoxyRemark}
\begin{DoxyReturn}{Returns}
Filter coefficient table index. Range 0...7 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00166}{166}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8h_source_l00146}{\+\_\+rw\+Error}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00344}{read\+E\+E\+Prom()}}.


\begin{DoxyCode}
00166                                   \{
00167 
00168     \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} = 0;
00169 
00170     \textcolor{comment}{// Get the current value of ConfigRegister1 bits 2:0}
00171     uint8\_t iir = \mbox{\hyperlink{class_m_l_x90614_aab0a010875527f4ac3d2794017624b10}{readEEProm}}(MLX90614\_CONFIG) & 7;
00172 
00173     \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}}) \textcolor{keywordflow}{return} 4;
00174     \textcolor{keywordflow}{return} iir;
00175 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_ac04578d67760dd73df4ed023d9b97896_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_a7bd321c53f70f4f3a96f7c6c7d4cb80e}\label{class_m_l_x90614_a7bd321c53f70f4f3a96f7c6c7d4cb80e}} 
\index{M\+L\+X90614@{M\+L\+X90614}!get\+P\+EC@{get\+P\+EC}}
\index{get\+P\+EC@{get\+P\+EC}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{get\+P\+E\+C()}{getPEC()}}
{\footnotesize\ttfamily uint8\+\_\+t M\+L\+X90614\+::get\+P\+EC (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

P\+EC getter 

Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00155}{155}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00046}{M\+L\+X90614()}}.

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{class_m_l_x90614_a7bd321c53f70f4f3a96f7c6c7d4cb80e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_a785e254cb6af386a7f23ebd427b50c81}\label{class_m_l_x90614_a785e254cb6af386a7f23ebd427b50c81}} 
\index{M\+L\+X90614@{M\+L\+X90614}!get\+Rw\+Error@{get\+Rw\+Error}}
\index{get\+Rw\+Error@{get\+Rw\+Error}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{get\+Rw\+Error()}{getRwError()}}
{\footnotesize\ttfamily uint8\+\_\+t M\+L\+X90614\+::get\+Rw\+Error (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

R/W error flags getter 

Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00153}{153}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00046}{M\+L\+X90614()}}.

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=345pt]{class_m_l_x90614_a785e254cb6af386a7f23ebd427b50c81_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_ad7fb030682918c5c9ae6292962527b44}\label{class_m_l_x90614_ad7fb030682918c5c9ae6292962527b44}} 
\index{M\+L\+X90614@{M\+L\+X90614}!read16@{read16}}
\index{read16@{read16}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{read16()}{read16()}}
{\footnotesize\ttfamily uint16\+\_\+t M\+L\+X90614\+::read16 (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{cmd }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Return a 16 bit value read from R\+AM or E\+E\+P\+R\+OM. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em cmd} & Command to send (register to read from). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Value read from memory. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00270}{270}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8h_source_l00145}{\+\_\+addr}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00147}{\+\_\+crc8}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00148}{\+\_\+pec}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00146}{\+\_\+rw\+Error}}, and \mbox{\hyperlink{_crc8_8cpp_source_l00042}{C\+R\+C8\+::crc8()}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00344}{read\+E\+E\+Prom()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00084}{read\+Temp()}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00354}{write\+E\+E\+Prom()}}.


\begin{DoxyCode}
00270                                      \{
00271     uint16\_t val;
00272     \mbox{\hyperlink{class_c_r_c8}{CRC8}} crc(MLX90614\_CRC8POLY);
00273 
00274     \textcolor{comment}{// Send the slave address then the command and set any error status bits returned by the write.}
00275     Wire.beginTransmission(\mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}});
00276     Wire.write(cmd);
00277     \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} |= (1 << Wire.endTransmission(\textcolor{keyword}{false})) >> 1;
00278 
00279     \textcolor{comment}{// Experimentally determined delay to prevent read errors (manufacturer's data sheet has }
00280     \textcolor{comment}{// left something out).}
00281     delayMicroseconds(MLX90614\_XDLY);
00282 
00283     \textcolor{comment}{// Resend slave address then get the 3 returned bytes.}
00284     Wire.requestFrom(\mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}}, (uint8\_t)3);
00285 
00286     \textcolor{comment}{// Data is returned as 2 bytes little endian.}
00287     val = Wire.read();
00288     val |= Wire.read() << 8;
00289 
00290     \textcolor{comment}{// Rread the PEC (CRC-8 of all bytes).}
00291     \mbox{\hyperlink{class_m_l_x90614_a2526978eb988a8712baee6dca596be15}{\_pec}} = Wire.read();
00292 
00293     \textcolor{comment}{// Clear r/w errors if using broadcast address.}
00294     \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}} == MLX90614\_BROADCASTADDR) \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} &= MLX90614\_NORWERROR;
00295     
00296     \textcolor{comment}{// Build our own CRC-8 of all received bytes.}
00297     crc.crc8(\mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}} << 1);
00298     crc.crc8(cmd);
00299     crc.crc8((\mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}} << 1) + 1);
00300     crc.crc8(lowByte(val));
00301     \mbox{\hyperlink{class_m_l_x90614_add210d34992507e8ccb753a040b14395}{\_crc8}} = crc.crc8(highByte(val));
00302 
00303     \textcolor{comment}{// Set error status bit if CRC mismatch.}
00304     \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_m_l_x90614_add210d34992507e8ccb753a040b14395}{\_crc8}} != \mbox{\hyperlink{class_m_l_x90614_a2526978eb988a8712baee6dca596be15}{\_pec}}) \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} |= MLX90614\_RXCRC;
00305 
00306     \textcolor{keywordflow}{return} val;
00307 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=280pt]{class_m_l_x90614_ad7fb030682918c5c9ae6292962527b44_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_ad7fb030682918c5c9ae6292962527b44_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_aab0a010875527f4ac3d2794017624b10}\label{class_m_l_x90614_aab0a010875527f4ac3d2794017624b10}} 
\index{M\+L\+X90614@{M\+L\+X90614}!read\+E\+E\+Prom@{read\+E\+E\+Prom}}
\index{read\+E\+E\+Prom@{read\+E\+E\+Prom}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{read\+E\+E\+Prom()}{readEEProm()}}
{\footnotesize\ttfamily uint16\+\_\+t M\+L\+X90614\+::read\+E\+E\+Prom (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{addr }\end{DoxyParamCaption})}



Return a 16 bit value read from E\+E\+P\+R\+OM. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em addr} & Register address to read from. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Value read from E\+E\+P\+R\+OM. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00344}{344}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00270}{read16()}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00250}{get\+Addr()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00120}{get\+Emissivity()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00208}{get\+F\+I\+Rcoeff()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00166}{get\+I\+I\+Rcoeff()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00395}{read\+I\+D()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00184}{set\+F\+I\+Rcoeff()}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00143}{set\+I\+I\+Rcoeff()}}.


\begin{DoxyCode}
00344 \{\textcolor{keywordflow}{return} \mbox{\hyperlink{class_m_l_x90614_ad7fb030682918c5c9ae6292962527b44}{read16}}(addr | 0x20);\}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_aab0a010875527f4ac3d2794017624b10_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_aab0a010875527f4ac3d2794017624b10_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_a352cc543f3e417d6318b6152d872db2e}\label{class_m_l_x90614_a352cc543f3e417d6318b6152d872db2e}} 
\index{M\+L\+X90614@{M\+L\+X90614}!read\+ID@{read\+ID}}
\index{read\+ID@{read\+ID}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{read\+I\+D()}{readID()}}
{\footnotesize\ttfamily uint64\+\_\+t M\+L\+X90614\+::read\+ID (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Retrieve the chip ID bytes. 

Chip ID getter

\begin{DoxyReturn}{Returns}
Chip ID as a 64 bit word. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00395}{395}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00344}{read\+E\+E\+Prom()}}.


\begin{DoxyCode}
00395                               \{
00396     uint64\_t ID = 0;
00397 
00398     \textcolor{comment}{// If we are lucky the compiler will optimise this.}
00399     \textcolor{keywordflow}{for}(uint8\_t i = 0; i < 4; i++) ID = (ID <<= 16) | \mbox{\hyperlink{class_m_l_x90614_aab0a010875527f4ac3d2794017624b10}{readEEProm}}(MLX90614\_ID1 + i);
00400     \textcolor{keywordflow}{return} ID;
00401 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_a352cc543f3e417d6318b6152d872db2e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_ab2a8bafff744a249325105d238bfe248}\label{class_m_l_x90614_ab2a8bafff744a249325105d238bfe248}} 
\index{M\+L\+X90614@{M\+L\+X90614}!read\+Temp@{read\+Temp}}
\index{read\+Temp@{read\+Temp}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{read\+Temp()}{readTemp()}}
{\footnotesize\ttfamily double M\+L\+X90614\+::read\+Temp (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8b}{temp\+Src\+\_\+t}}}]{tsrc = {\ttfamily \mbox{\hyperlink{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8ba91f620721ea47dec379db791d735a55b}{M\+L\+X90614\+\_\+\+S\+R\+C01}}},  }\item[{\mbox{\hyperlink{class_m_l_x90614_a18769519e647d93c959566b81d2e514f}{temp\+Unit\+\_\+t}}}]{tunit = {\ttfamily \mbox{\hyperlink{class_m_l_x90614_a18769519e647d93c959566b81d2e514fa75d66a29cab65ff4514b5cd6a268c7bf}{M\+L\+X90614\+\_\+\+TC}}} }\end{DoxyParamCaption})}



Return a temperature from the specified source in specified units. 

\begin{DoxyRemark}{Remarks}
\begin{DoxyItemize}
\item Temperature is stored in ram as a 16 bit absolute value to a resolution of 0.\+02K \item Linearized sensor die temperature is available as Ta (ambient). \item One or two object temperatures are linearized to the range -\/38.\+2C...125C \end{DoxyItemize}

\end{DoxyRemark}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em tsrc} & Internal temperature source to read, default \#1. \\
\hline
\mbox{\tt in}  & {\em tunit} & Temperature units to convert raw data to, default deg Celsius. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Temperature. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00084}{84}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8h_source_l00146}{\+\_\+rw\+Error}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00389}{conv\+Cto\+F()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00382}{conv\+Kto\+C()}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00135}{M\+L\+X90614\+\_\+\+S\+R\+C01}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00136}{M\+L\+X90614\+\_\+\+S\+R\+C02}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00130}{M\+L\+X90614\+\_\+\+TC}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00131}{M\+L\+X90614\+\_\+\+TF}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00270}{read16()}}.


\begin{DoxyCode}
00084                                                           \{
00085     \textcolor{keywordtype}{double} temp;
00086 
00087     \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} = 0;
00088     \textcolor{keywordflow}{switch}(tsrc) \{
00089         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8ba91f620721ea47dec379db791d735a55b}{MLX90614\_SRC01}} : temp = \mbox{\hyperlink{class_m_l_x90614_ad7fb030682918c5c9ae6292962527b44}{read16}}(MLX90614\_TOBJ1); \textcolor{keywordflow}{break};
00090         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_m_l_x90614_a500f8c49b00e725d5c201092d9c02b8baa8763ed94d24c7d2a45fcec6d7183643}{MLX90614\_SRC02}} : temp = \mbox{\hyperlink{class_m_l_x90614_ad7fb030682918c5c9ae6292962527b44}{read16}}(MLX90614\_TOBJ2); \textcolor{keywordflow}{break};
00091         default : temp = \mbox{\hyperlink{class_m_l_x90614_ad7fb030682918c5c9ae6292962527b44}{read16}}(MLX90614\_TA);
00092     \}
00093     temp *= 0.02;
00094     \textcolor{keywordflow}{switch}(tunit) \{
00095         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_m_l_x90614_a18769519e647d93c959566b81d2e514fa75d66a29cab65ff4514b5cd6a268c7bf}{MLX90614\_TC}} : \textcolor{keywordflow}{return} \mbox{\hyperlink{class_m_l_x90614_af0a52019a3c66f0ae3b954a4e7475c88}{convKtoC}}(temp);
00096         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_m_l_x90614_a18769519e647d93c959566b81d2e514fa34f399de3c986d3eede0268f6a34a96b}{MLX90614\_TF}} : \textcolor{keywordflow}{return} \mbox{\hyperlink{class_m_l_x90614_af0a52019a3c66f0ae3b954a4e7475c88}{convKtoC}}(\mbox{\hyperlink{class_m_l_x90614_a2a5b34da155086b85fb74ceb7310b2cb}{convCtoF}}(temp));
00097     \}
00098     \textcolor{keywordflow}{return} temp;
00099 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_ab2a8bafff744a249325105d238bfe248_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_a3d8646faede1c0adc667c54a0c95a7db}\label{class_m_l_x90614_a3d8646faede1c0adc667c54a0c95a7db}} 
\index{M\+L\+X90614@{M\+L\+X90614}!set\+Addr@{set\+Addr}}
\index{set\+Addr@{set\+Addr}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{set\+Addr()}{setAddr()}}
{\footnotesize\ttfamily void M\+L\+X90614\+::set\+Addr (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{addr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Set device S\+M\+Bus address. 

S\+MB bus address setter

\begin{DoxyRemark}{Remarks}
\begin{DoxyItemize}
\item Must be only device on the bus. \item Must power cycle the device after changing address. \end{DoxyItemize}

\end{DoxyRemark}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em addr} & New device address. Range 1...127 \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00226}{226}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8h_source_l00145}{\+\_\+addr}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00146}{\+\_\+rw\+Error}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00354}{write\+E\+E\+Prom()}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00046}{M\+L\+X90614()}}.


\begin{DoxyCode}
00226                                    \{
00227 
00228     \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} = 0;
00229 
00230     \textcolor{comment}{// It is assumed we do not know the existing slave address so the broadcast address is used.}
00231     \textcolor{comment}{// First ensure the new address is in the legal range (1..127)}
00232     \textcolor{keywordflow}{if}(addr &= 0x7f) \{
00233         \mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}} = MLX90614\_BROADCASTADDR;
00234         \mbox{\hyperlink{class_m_l_x90614_a70b3e428c623b6af5bedf199f5c16490}{writeEEProm}}(MLX90614\_ADDR, addr);
00235         
00236         \textcolor{comment}{// There will always be a r/w error using the broadcast address so we cannot respond}
00237         \textcolor{comment}{// to r/w errors. We must just assume this worked.}
00238         \mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}} = addr;
00239         
00240     \} \textcolor{keywordflow}{else} \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} |= MLX90614\_INVALIDATA;
00241 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_a3d8646faede1c0adc667c54a0c95a7db_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{class_m_l_x90614_a3d8646faede1c0adc667c54a0c95a7db_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_ab7e462d10f8d26bdd55f77eb4c81a5ff}\label{class_m_l_x90614_ab7e462d10f8d26bdd55f77eb4c81a5ff}} 
\index{M\+L\+X90614@{M\+L\+X90614}!set\+Emissivity@{set\+Emissivity}}
\index{set\+Emissivity@{set\+Emissivity}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{set\+Emissivity()}{setEmissivity()}}
{\footnotesize\ttfamily void M\+L\+X90614\+::set\+Emissivity (\begin{DoxyParamCaption}\item[{float}]{emiss = {\ttfamily 1.0} }\end{DoxyParamCaption})}



Set the emissivity of the object. 

Emissivity setter

\begin{DoxyRemark}{Remarks}
The emissivity is stored as a 16 bit integer defined by the following\+: ~\newline
{\ttfamily  emissivity = dec2hex\mbox{[}round(65535 x emiss)\mbox{]}} 
\end{DoxyRemark}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em emiss} & Physical emissivity value in range 0.\+1 ...1.\+0, default 1.\+0 \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00107}{107}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8h_source_l00146}{\+\_\+rw\+Error}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00354}{write\+E\+E\+Prom()}}.


\begin{DoxyCode}
00107                                         \{
00108 
00109     \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} = 0;
00110     uint16\_t e = int(emiss * 65535. + 0.5);
00111     \textcolor{keywordflow}{if}((emiss > 1.0) || (e < 6553)) \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} |= MLX90614\_INVALIDATA;
00112     \textcolor{keywordflow}{else} \mbox{\hyperlink{class_m_l_x90614_a70b3e428c623b6af5bedf199f5c16490}{writeEEProm}}(MLX90614\_EMISS, e);
00113 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_ab7e462d10f8d26bdd55f77eb4c81a5ff_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_a3849320b7988ca5882f25fbc87dd0de7}\label{class_m_l_x90614_a3849320b7988ca5882f25fbc87dd0de7}} 
\index{M\+L\+X90614@{M\+L\+X90614}!set\+F\+I\+Rcoeff@{set\+F\+I\+Rcoeff}}
\index{set\+F\+I\+Rcoeff@{set\+F\+I\+Rcoeff}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{set\+F\+I\+Rcoeff()}{setFIRcoeff()}}
{\footnotesize\ttfamily void M\+L\+X90614\+::set\+F\+I\+Rcoeff (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{csb = {\ttfamily 7} }\end{DoxyParamCaption})}



Set the coefficients of the F\+IR digital filter. 

I\+IR coefficient setter

\begin{DoxyRemark}{Remarks}
The F\+IR digital filter coefficient N is bits 10\+:8 of Config\+Register1 ~\newline
 The value of N is set as follows\+: {\ttfamily N = 2 $^\wedge$ (csb + 3)} ~\newline
 The manufacturer does not recommend {\ttfamily N $<$ 128} 
\end{DoxyRemark}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em csb} & See page 12 of datasheet. Range 0...7, default = 7 (N = 1024) \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00184}{184}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8h_source_l00146}{\+\_\+rw\+Error}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00344}{read\+E\+E\+Prom()}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00354}{write\+E\+E\+Prom()}}.


\begin{DoxyCode}
00184                                       \{
00185 
00186     \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} = 0;
00187 
00188     \textcolor{comment}{// Ensure legal range by clearing all but the LS 3 bits.}
00189     csb &= 7;
00190 
00191     \textcolor{comment}{// Get the current value of ConfigRegister1}
00192     uint16\_t reg = \mbox{\hyperlink{class_m_l_x90614_aab0a010875527f4ac3d2794017624b10}{readEEProm}}(MLX90614\_CONFIG);
00193 
00194     \textcolor{comment}{// Clear bits 10:8, mask in the new value, then write it back.}
00195     \textcolor{keywordflow}{if}(!\mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}}) \{
00196         reg &= 0xf8ff;
00197         reg |= (uint16\_t)csb << 8;
00198         \mbox{\hyperlink{class_m_l_x90614_a70b3e428c623b6af5bedf199f5c16490}{writeEEProm}}(MLX90614\_CONFIG, reg);
00199     \}
00200 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_a3849320b7988ca5882f25fbc87dd0de7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_af62b9d897164375e8c17fb5a8d367600}\label{class_m_l_x90614_af62b9d897164375e8c17fb5a8d367600}} 
\index{M\+L\+X90614@{M\+L\+X90614}!set\+I\+I\+Rcoeff@{set\+I\+I\+Rcoeff}}
\index{set\+I\+I\+Rcoeff@{set\+I\+I\+Rcoeff}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{set\+I\+I\+Rcoeff()}{setIIRcoeff()}}
{\footnotesize\ttfamily void M\+L\+X90614\+::set\+I\+I\+Rcoeff (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{csb = {\ttfamily 4} }\end{DoxyParamCaption})}



Set the coefficients of the I\+IR digital filter. 

I\+IR coefficient setter

\begin{DoxyRemark}{Remarks}
The I\+IR digital filter coefficients are set by the LS 3 bits of Config\+Register1 ~\newline
 The value of the coefficients is set as follows\+: ~\newline
 {\ttfamily \begin{DoxyVerb}csb = 0   a1 = 0.5    a2 = 0.5
      1        0.25        0.75
      2        0.167       0.833
      3        0.125       0.875
      4        1           0 (IIR bypassed)
      5        0.8         0.2
      6        0.67        0.33
      7        0.57        0.43 \end{DoxyVerb}
 } 
\end{DoxyRemark}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em csb} & See page 12 of datasheet. Range 0...7, default = 4 (I\+IR bypassed) \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00143}{143}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8h_source_l00146}{\+\_\+rw\+Error}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00344}{read\+E\+E\+Prom()}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00354}{write\+E\+E\+Prom()}}.


\begin{DoxyCode}
00143                                       \{
00144 
00145     \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} = 0;
00146 
00147     \textcolor{comment}{// Ensure legal range by clearing all but the LS 3 bits.}
00148     csb &= 7;
00149 
00150     \textcolor{comment}{// Get the current value of ConfigRegister1}
00151     uint16\_t reg = \mbox{\hyperlink{class_m_l_x90614_aab0a010875527f4ac3d2794017624b10}{readEEProm}}(MLX90614\_CONFIG);
00152 
00153     \textcolor{comment}{// Clear bits 2:0, mask in the new value, then write it back.}
00154     \textcolor{keywordflow}{if}(!\mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}}) \{
00155         reg &= 0xfff8;
00156         reg |= (uint16\_t)csb;
00157         \mbox{\hyperlink{class_m_l_x90614_a70b3e428c623b6af5bedf199f5c16490}{writeEEProm}}(MLX90614\_CONFIG, reg);
00158     \}
00159 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_af62b9d897164375e8c17fb5a8d367600_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_a18cf4b5a62e225e8530a1e0f641ea027}\label{class_m_l_x90614_a18cf4b5a62e225e8530a1e0f641ea027}} 
\index{M\+L\+X90614@{M\+L\+X90614}!write16@{write16}}
\index{write16@{write16}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{write16()}{write16()}}
{\footnotesize\ttfamily void M\+L\+X90614\+::write16 (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{cmd,  }\item[{uint16\+\_\+t}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Write a 16 bit value to memory. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em cmd} & Command to send (register to write to). \\
\hline
\mbox{\tt in}  & {\em data} & Value to write. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00314}{314}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8h_source_l00145}{\+\_\+addr}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00147}{\+\_\+crc8}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00148}{\+\_\+pec}}, \mbox{\hyperlink{_m_l_x90614_8h_source_l00146}{\+\_\+rw\+Error}}, and \mbox{\hyperlink{_crc8_8cpp_source_l00042}{C\+R\+C8\+::crc8()}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00354}{write\+E\+E\+Prom()}}.


\begin{DoxyCode}
00314                                                  \{
00315     \mbox{\hyperlink{class_c_r_c8}{CRC8}} crc(MLX90614\_CRC8POLY);
00316 
00317     \textcolor{comment}{// Build the CRC-8 of all bytes to be sent.}
00318     crc.crc8(\mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}} << 1);
00319     crc.crc8(cmd);
00320     crc.crc8(lowByte(data));
00321     \mbox{\hyperlink{class_m_l_x90614_add210d34992507e8ccb753a040b14395}{\_crc8}} = crc.crc8(highByte(data));
00322 
00323     \textcolor{comment}{// Send the slave address then the command.}
00324     Wire.beginTransmission(\mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}});
00325     Wire.write(cmd);
00326 
00327     \textcolor{comment}{// Write the data low byte first.}
00328     Wire.write(lowByte(data));
00329     Wire.write(highByte(data));
00330 
00331     \textcolor{comment}{// Then write the crc and set the r/w error status bits.}
00332     Wire.write(\mbox{\hyperlink{class_m_l_x90614_a2526978eb988a8712baee6dca596be15}{\_pec}} = \mbox{\hyperlink{class_m_l_x90614_add210d34992507e8ccb753a040b14395}{\_crc8}});
00333     \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} |= (1 << Wire.endTransmission(\textcolor{keyword}{true})) >> 1;
00334 
00335     \textcolor{comment}{// Clear r/w errors if using broadcast address.}
00336     \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}{\_addr}} == MLX90614\_BROADCASTADDR) \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} &= MLX90614\_NORWERROR;
00337 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=281pt]{class_m_l_x90614_a18cf4b5a62e225e8530a1e0f641ea027_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_a18cf4b5a62e225e8530a1e0f641ea027_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_m_l_x90614_a70b3e428c623b6af5bedf199f5c16490}\label{class_m_l_x90614_a70b3e428c623b6af5bedf199f5c16490}} 
\index{M\+L\+X90614@{M\+L\+X90614}!write\+E\+E\+Prom@{write\+E\+E\+Prom}}
\index{write\+E\+E\+Prom@{write\+E\+E\+Prom}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{write\+E\+E\+Prom()}{writeEEProm()}}
{\footnotesize\ttfamily void M\+L\+X90614\+::write\+E\+E\+Prom (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{reg,  }\item[{uint16\+\_\+t}]{data }\end{DoxyParamCaption})}



Write a 16 bit value to E\+E\+P\+R\+OM after first clearing the memory. 

\begin{DoxyRemark}{Remarks}
\begin{DoxyItemize}
\item Erase and write time 5ms per manufacturer specification \item Manufacturer does not specify max or min erase/write times \end{DoxyItemize}

\end{DoxyRemark}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em reg} & Address to write to. \\
\hline
\mbox{\tt in}  & {\em data} & Value to write. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00354}{354}} of file \mbox{\hyperlink{_m_l_x90614_8cpp_source}{M\+L\+X90614.\+cpp}}.



References \mbox{\hyperlink{_m_l_x90614_8h_source_l00146}{\+\_\+rw\+Error}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00270}{read16()}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00314}{write16()}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00226}{set\+Addr()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00107}{set\+Emissivity()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00184}{set\+F\+I\+Rcoeff()}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00143}{set\+I\+I\+Rcoeff()}}.


\begin{DoxyCode}
00354                                                      \{
00355     uint16\_t val;
00356     reg |= 0x20;
00357 
00358     \textcolor{comment}{// Read current value, compare to the new value, and do nothing on a match or if there are}
00359     \textcolor{comment}{// read errors set the error status flag only.}
00360     val = \mbox{\hyperlink{class_m_l_x90614_ad7fb030682918c5c9ae6292962527b44}{read16}}(reg);
00361     \textcolor{keywordflow}{if}((val != data) && !\mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}}) \{
00362 
00363         \textcolor{comment}{// On any R/W errors it is assumed the memory is corrupted.}
00364         \textcolor{comment}{// Clear the memory and wait Terase (per manufacturer's documentation).}
00365         \mbox{\hyperlink{class_m_l_x90614_a18cf4b5a62e225e8530a1e0f641ea027}{write16}}(reg, 0);
00366         delay(5);
00367         \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}}) \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} |= MLX90614\_EECORRUPT;
00368 
00369         \textcolor{comment}{// Write the data and wait Twrite (per manufacturer's documentation) }
00370         \textcolor{comment}{// and set the r/w error status bits.}
00371         \mbox{\hyperlink{class_m_l_x90614_a18cf4b5a62e225e8530a1e0f641ea027}{write16}}(reg, data); 
00372         delay(5);
00373         \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}}) \mbox{\hyperlink{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}{\_rwError}} |= MLX90614\_EECORRUPT;
00374     \}
00375 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_a70b3e428c623b6af5bedf199f5c16490_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_m_l_x90614_a70b3e428c623b6af5bedf199f5c16490_icgraph}
\end{center}
\end{figure}


\subsubsection{Member Data Documentation}
\mbox{\Hypertarget{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}\label{class_m_l_x90614_a768925264f76f33f9bf98aec1cbec6a9}} 
\index{M\+L\+X90614@{M\+L\+X90614}!\+\_\+addr@{\+\_\+addr}}
\index{\+\_\+addr@{\+\_\+addr}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{\+\_\+addr}{\_addr}}
{\footnotesize\ttfamily uint8\+\_\+t M\+L\+X90614\+::\+\_\+addr\hspace{0.3cm}{\ttfamily [private]}}

Slave address 

Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00145}{145}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00250}{get\+Addr()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00046}{M\+L\+X90614()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00270}{read16()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00226}{set\+Addr()}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00314}{write16()}}.

\mbox{\Hypertarget{class_m_l_x90614_add210d34992507e8ccb753a040b14395}\label{class_m_l_x90614_add210d34992507e8ccb753a040b14395}} 
\index{M\+L\+X90614@{M\+L\+X90614}!\+\_\+crc8@{\+\_\+crc8}}
\index{\+\_\+crc8@{\+\_\+crc8}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{\+\_\+crc8}{\_crc8}}
{\footnotesize\ttfamily uint8\+\_\+t M\+L\+X90614\+::\+\_\+crc8\hspace{0.3cm}{\ttfamily [private]}}

8 bit C\+RC 

Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00147}{147}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00068}{begin()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00270}{read16()}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00314}{write16()}}.

\mbox{\Hypertarget{class_m_l_x90614_a2526978eb988a8712baee6dca596be15}\label{class_m_l_x90614_a2526978eb988a8712baee6dca596be15}} 
\index{M\+L\+X90614@{M\+L\+X90614}!\+\_\+pec@{\+\_\+pec}}
\index{\+\_\+pec@{\+\_\+pec}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{\+\_\+pec}{\_pec}}
{\footnotesize\ttfamily uint8\+\_\+t M\+L\+X90614\+::\+\_\+pec\hspace{0.3cm}{\ttfamily [private]}}

P\+EC 

Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00148}{148}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00068}{begin()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00270}{read16()}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00314}{write16()}}.

\mbox{\Hypertarget{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}\label{class_m_l_x90614_a8c203cc9359c283d07682ba7dbcc5de3}} 
\index{M\+L\+X90614@{M\+L\+X90614}!\+\_\+rw\+Error@{\+\_\+rw\+Error}}
\index{\+\_\+rw\+Error@{\+\_\+rw\+Error}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{\+\_\+rw\+Error}{\_rwError}}
{\footnotesize\ttfamily uint8\+\_\+t M\+L\+X90614\+::\+\_\+rw\+Error\hspace{0.3cm}{\ttfamily [private]}}

R/W error flags 

Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00146}{146}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00068}{begin()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00250}{get\+Addr()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00120}{get\+Emissivity()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00208}{get\+F\+I\+Rcoeff()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00166}{get\+I\+I\+Rcoeff()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00270}{read16()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00084}{read\+Temp()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00226}{set\+Addr()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00107}{set\+Emissivity()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00184}{set\+F\+I\+Rcoeff()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00143}{set\+I\+I\+Rcoeff()}}, \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00314}{write16()}}, and \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00354}{write\+E\+E\+Prom()}}.

\mbox{\Hypertarget{class_m_l_x90614_a66d99dc5778b514038c0fa5e25a722f1}\label{class_m_l_x90614_a66d99dc5778b514038c0fa5e25a722f1}} 
\index{M\+L\+X90614@{M\+L\+X90614}!bus\+Addr@{bus\+Addr}}
\index{bus\+Addr@{bus\+Addr}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{bus\+Addr}{busAddr}}
{\footnotesize\ttfamily Property$<$uint8\+\_\+t, \mbox{\hyperlink{class_m_l_x90614}{M\+L\+X90614}}$>$ M\+L\+X90614\+::bus\+Addr}

S\+M\+Bus address property 

Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00123}{123}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00046}{M\+L\+X90614()}}.

\mbox{\Hypertarget{class_m_l_x90614_aa13abb960da5f7d8d0eb26df8632a679}\label{class_m_l_x90614_aa13abb960da5f7d8d0eb26df8632a679}} 
\index{M\+L\+X90614@{M\+L\+X90614}!crc8@{crc8}}
\index{crc8@{crc8}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{crc8}{crc8}}
{\footnotesize\ttfamily Property$<$uint8\+\_\+t, \mbox{\hyperlink{class_m_l_x90614}{M\+L\+X90614}}$>$ M\+L\+X90614\+::crc8}

8 bit C\+RC property 

Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00125}{125}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00046}{M\+L\+X90614()}}.

\mbox{\Hypertarget{class_m_l_x90614_af050e02eecd12a127a98fb2b30e40a88}\label{class_m_l_x90614_af050e02eecd12a127a98fb2b30e40a88}} 
\index{M\+L\+X90614@{M\+L\+X90614}!pec@{pec}}
\index{pec@{pec}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{pec}{pec}}
{\footnotesize\ttfamily Property$<$uint8\+\_\+t, \mbox{\hyperlink{class_m_l_x90614}{M\+L\+X90614}}$>$ M\+L\+X90614\+::pec}

P\+EC property 

Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00126}{126}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00046}{M\+L\+X90614()}}.

\mbox{\Hypertarget{class_m_l_x90614_a13d10b57b4369c27e740585bf3907b0e}\label{class_m_l_x90614_a13d10b57b4369c27e740585bf3907b0e}} 
\index{M\+L\+X90614@{M\+L\+X90614}!rw\+Error@{rw\+Error}}
\index{rw\+Error@{rw\+Error}!M\+L\+X90614@{M\+L\+X90614}}
\paragraph{\texorpdfstring{rw\+Error}{rwError}}
{\footnotesize\ttfamily Property$<$uint8\+\_\+t, \mbox{\hyperlink{class_m_l_x90614}{M\+L\+X90614}}$>$ M\+L\+X90614\+::rw\+Error}

R/W error flags property 

Definition at line \mbox{\hyperlink{_m_l_x90614_8h_source_l00124}{124}} of file \mbox{\hyperlink{_m_l_x90614_8h_source}{M\+L\+X90614.\+h}}.



Referenced by \mbox{\hyperlink{_m_l_x90614_8cpp_source_l00046}{M\+L\+X90614()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
M\+L\+X90614.\+h\item 
\mbox{\hyperlink{_m_l_x90614_8cpp}{M\+L\+X90614.\+cpp}}\end{DoxyCompactItemize}
